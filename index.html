<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <link href="css/style.css" rel="stylesheet" type="text/css">
</head>
  <body>

  <form>
    <img class="logosize" src="img/logo.png">
    <p class="error" aria-live="polite"></p>
    <div class="group">
      <input type="text" id="cpf"><span class="highlight"></span><span class="bar"></span>
      <label>CPF</label>
    </div>

    <p class="error" aria-live="polite"></p>

    <div class="group">
      <input type="text" id="ddd"><span class="highlight"></span><span class="bar"></span>
      <label>Celular (com DDD)</label>
    </div>

    <button type="submit" class="button buttonBlue entrar">Entrar
      <div class="ripples buttonRipples"><span class="ripplesCircle"></span></div>
    </button>
    <a href="cadastro.html">Criar conta</a>
  </form>

  <script>
var form  = document.getElementsByTagName('form')[0];
var el = document.getElementById('cpf');
var error = el;
while ((error = error.nextSibling).nodeType != 1);
var elRegExp = /([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})/;
function addEvent(element, event, callback) {
  var previousEventCallBack = element["on"+event];
  element["on"+event] = function (e) {
    var output = callback(e);
    if (output === false) return false;

    if (typeof previousEventCallBack === 'function') {
      output = previousEventCallBack(e);
      if(output === false) return false;
    }
  }
};

addEvent(window, "load", function () {
  var test = el.value.length === 0 || elRegExp.test(el.value);

  el.className = test ? "valid" : "invalid";
});
addEvent(el, "keyup", function () {
  var test = el.value.length === 0 || elRegExp.test(el.value);
  if (test) {
    el.className = "valid";
    el.innerHTML = "";
    el.className = "errorCPF";
  } else {
    el.className = "invalid";
  }
});
addEvent(form, "submit", function () {
  var test = el.value.length === 0 || elRegExp.test(el.value);

  if (!test) {
    el.className = "invalid";
    error.innerHTML = "CPF inválido";
    error.className = "error active";
    console.log('oi')
    return false;
  } else {
    el.className = "valid";
    error.innerHTML = "";
    error.className = "errorCPF";
  }
});
</script>

<script>
var form  = document.getElementsByTagName('form')[0];
var el = document.getElementById('ddd');
var error = el;
while ((error = error.nextSibling).nodeType != 1);
var elRegExp = /([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})/;
function addEvent(element, event, callback) {
var previousEventCallBack = element["on"+event];
element["on"+event] = function (e) {
  var output = callback(e);
  if (output === false) return false;

  if (typeof previousEventCallBack === 'function') {
    output = previousEventCallBack(e);
    if(output === false) return false;
  }
}
};

addEvent(window, "load", function () {
var test = el.value.length === 0 || elRegExp.test(el.value);

el.className = test ? "valid" : "invalid";
});
addEvent(el, "keyup", function () {
var test = el.value.length === 0 || elRegExp.test(el.value);
if (test) {
  el.className = "valid";
  el.innerHTML = "";
  el.className = "errorDDD";
} else {
  el.className = "invalid";
}
});
addEvent(form, "submit", function () {
var test = el.value.length === 0 || elRegExp.test(el.value);

if (!test) {
  el.className = "invalid";
  error.innerHTML = "DDD inválido";
  error.className = "error active";
  console.log('oi')
  return false;
} else {
  el.className = "valid";
  error.innerHTML = "";
  error.className = "errorDDD";
}
});
</script>


  <script src="js/buttoneffect.js"></script>
  </body>
  <html>
